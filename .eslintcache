[{"C:\\JS-Projects\\vehicles-app\\src\\index.js":"1","C:\\JS-Projects\\vehicles-app\\src\\App.js":"2","C:\\JS-Projects\\vehicles-app\\src\\reportWebVitals.js":"3","C:\\JS-Projects\\vehicles-app\\src\\AppAuthComponents.js":"4","C:\\JS-Projects\\vehicles-app\\src\\AppUnauthComponents.js":"5","C:\\JS-Projects\\vehicles-app\\src\\CustomHooks.js":"6","C:\\JS-Projects\\vehicles-app\\src\\CommonComponents.js":"7"},{"size":455,"mtime":1608583567762,"results":"8","hashOfConfig":"9"},{"size":6743,"mtime":1610794245163,"results":"10","hashOfConfig":"9"},{"size":362,"mtime":499162500000,"results":"11","hashOfConfig":"9"},{"size":25279,"mtime":1610899397251,"results":"12","hashOfConfig":"9"},{"size":13576,"mtime":1610899528587,"results":"13","hashOfConfig":"9"},{"size":110,"mtime":1609594849881,"results":"14","hashOfConfig":"9"},{"size":10043,"mtime":1610899108596,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1hhe5v2",{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\JS-Projects\\vehicles-app\\src\\index.js",[],["32","33"],"C:\\JS-Projects\\vehicles-app\\src\\App.js",["34","35"],"import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport './App.css';\n\nimport { Modal } from \"./CommonComponents\";\nimport { ContentWelcomePageAuth, ContentDetailsPageAuth, ContentSearchPageAuth, ContentAddVehicles } from \"./AppAuthComponents\";\nimport { ContentWelcomePageUnauth, ContentDetailsPageUnauth, ContentSearchPageUnauth } from \"./AppUnauthComponents\";\n\n\nfunction AppAuth({ changeAuth }) {\n  const [searchResults, setSearchResults] = React.useState([]);\n  const cachedResults = React.useRef([]);\n\n  function updateResults(data) {\n    const newCachedResults = [...cachedResults.current];\n    const cachedItemsIds = [];\n    for (const item of newCachedResults) {\n      cachedItemsIds.push(item.id);\n    }\n    for (const item of data) {\n      if (!(cachedItemsIds.includes(item.id))) {\n        newCachedResults.push(item);\n      }\n    }\n    cachedResults.current = newCachedResults;\n    sessionStorage.setItem(\"cachedSearchResults\", JSON.stringify(newCachedResults));\n    setSearchResults(data);\n  }\n\n  return (\n      <div className=\".container\">\n        <div className=\"app-main-box\">\n          <div className=\"title-box\">\n            <h1 className=\"main-title\">Online Vehicle Database</h1>\n          </div>\n          <div className=\"main-box\">\n            <div className=\"left-box\">\n              <div className=\"left-content-box\">\n                <h3>Left Box Content 1</h3>\n                <p>placeholder content</p>\n              </div>\n              <div className=\"left-content-box\">\n                <h3>Left Box Content 2</h3>\n                <p>placeholder content</p>\n              </div>\n            </div>\n            <Switch>\n              <Redirect exact from=\"/\" to=\"/home\" />\n              <Route path=\"/home\" exact strict render={() => <ContentWelcomePageAuth changeAuth={changeAuth} />} />\n              <Route path=\"/vehicles/search\" exact strict render={() => <ContentSearchPageAuth searchResults={searchResults} updateResults={updateResults} changeAuth={changeAuth}/>} />\n              <Route path=\"/vehicles/add\" exact strict render={() => <ContentAddVehicles changeAuth={changeAuth}/>} />\n              <Route path=\"/vehicles/:id/modify\" exact strict render={() => <ContentAddVehicles changeAuth={changeAuth}/>} />\n              <Route path=\"/vehicles/:id/details\" exact strict render={() => <ContentDetailsPageAuth changeAuth={changeAuth} />} />\n            </Switch>\n          </div>\n        </div>\n      </div>\n  );\n}\n\n\nfunction AppUnauth({ changeAuth }) {\n  const [searchResults, setSearchResults] = React.useState([]);\n  const cachedResults = React.useRef([]);\n\n  function updateResults(data) {\n    const newCachedResults = [...cachedResults.current];\n    const cachedItemsIds = [];\n    for (const item of newCachedResults) {\n      cachedItemsIds.push(item.id);\n    }\n    for (const item of data) {\n      if (!(cachedItemsIds.includes(item.id))) {\n        newCachedResults.push(item);\n      }\n    }\n    cachedResults.current = newCachedResults;\n    sessionStorage.setItem(\"cachedSearchResults\", JSON.stringify(newCachedResults));\n    setSearchResults(data);\n  }\n\n  return (\n    <div className=\".container\">\n      <div className=\"app-main-box\">\n        <div className=\"title-box\">\n          <h1 className=\"main-title\">Online Vehicle Database</h1>\n        </div>\n        <div className=\"main-box\">\n          <div className=\"left-box\">\n            <div className=\"left-content-box\">\n              <h3>Left Box Content 1</h3>\n              <p>placeholder content</p>\n            </div>\n            <div className=\"left-content-box\">\n              <h3>Left Box Content 2</h3>\n              <p>placeholder content</p>\n            </div>\n          </div>\n          <Switch>\n            <Redirect exact from=\"/\" to=\"/home\"/>\n            <Redirect exact from=\"/vehicles/add\" to=\"/home\"/>\n            <Redirect from=\"/vehicles/:id/modify\" to=\"/home\"/>\n            <Route path=\"/home\" exact strict render={() => <ContentWelcomePageUnauth changeAuth={changeAuth} />} />\n            <Route path=\"/vehicles/search\" exact strict render={() => <ContentSearchPageUnauth searchResults={searchResults} updateResults={updateResults} changeAuth={changeAuth}/>} />\n            <Route path=\"/vehicles/:id/details\" exact strict render={() => <ContentDetailsPageUnauth changeAuth={changeAuth} />} />\n          </Switch>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\nfunction App() {\n  const [loaded, setLoaded] = React.useState(false);\n  const [authenticated, setAuthenticated] = React.useState(false);\n  const [modalProperties, setModalProperties] = React.useState({ visibility: \"hidden\", type: \"loading\" });\n\n  function renderApp() {\n    if (authenticated) {\n      return (\n        <AppAuth \n          changeAuth={bool => setAuthenticated(bool)}\n        />\n      );\n    } else {\n      return (\n        <AppUnauth \n          changeAuth={bool => setAuthenticated(bool)}\n        />\n      );\n    }\n  }\n\n  React.useEffect(() => {\n    async function checkLoginValidity() {\n      if (sessionStorage.getItem(\"res\") !== null) {\n          const userData = JSON.parse(sessionStorage.getItem(\"res\"));\n          if (userData.jwt !== null) {\n              const token = JSON.parse(sessionStorage.getItem(\"res\")).jwt;\n              const url = \"http://borzalom.ddns.net:1000/users/me\";\n              const options = {\n                  method: \"GET\",\n                  headers: {\n                      'Content-type': 'application/json',\n                      Authorization: `Bearer ${token}`\n                  },\n              };\n              let responseStatus = 0;\n\n              await fetch(url, options)\n                  .then(res => {\n                      responseStatus = res.status;\n                      return res.json();\n                  })\n                  .catch(err => console.log(err));\n\n              if (responseStatus >= 200 && responseStatus < 300) {\n                  return true;\n              } else {\n                  console.log(\"Error code:\");\n                  console.log(responseStatus);\n                  return false;\n              }\n          } else {\n              return false;\n          }\n      } else {\n          return false;\n      }\n  }\n\n  async function init() {\n      const result = await checkLoginValidity();\n      setLoaded(true);\n      setAuthenticated(result || false);\n  }\n\n  init();\n  }, []);\n\n/*   if (!loaded) {\n    setModalProperties({ visibility: \"visible\", type: \"loading\" });\n  } else {\n    setModalProperties({ visibility: \"hidden\", type: \"loading\" });\n  } */\n\n  return (\n    <Router>\n      <Modal modalProperties={modalProperties} modalEffect={null}/>\n      {renderApp()}\n    </Router>\n  );\n}\n\n\nexport default App;\n","C:\\JS-Projects\\vehicles-app\\src\\reportWebVitals.js",[],"C:\\JS-Projects\\vehicles-app\\src\\AppAuthComponents.js",[],"C:\\JS-Projects\\vehicles-app\\src\\AppUnauthComponents.js",[],"C:\\JS-Projects\\vehicles-app\\src\\CustomHooks.js",[],"C:\\JS-Projects\\vehicles-app\\src\\CommonComponents.js",[],{"ruleId":"36","replacedBy":"37"},{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","severity":1,"message":"41","line":120,"column":10,"nodeType":"42","messageId":"43","endLine":120,"endColumn":16},{"ruleId":"40","severity":1,"message":"44","line":122,"column":27,"nodeType":"42","messageId":"43","endLine":122,"endColumn":45},"no-native-reassign",["45"],"no-negated-in-lhs",["46"],"no-unused-vars","'loaded' is assigned a value but never used.","Identifier","unusedVar","'setModalProperties' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]